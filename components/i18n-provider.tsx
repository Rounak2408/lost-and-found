'use client'

import React, { createContext, useCallback, useContext, useEffect, useMemo, useState } from 'react'

type LanguageCode = 'en' | 'hi' | 'gu'

type Translations = Record<string, string>

type I18nContextValue = {
  language: LanguageCode
  setLanguage: (lang: LanguageCode) => void
  t: (key: string) => string
}

const I18nContext = createContext<I18nContextValue | undefined>(undefined)

const STORAGE_KEY = 'sf_language'

const messages: Record<LanguageCode, Translations> = {
  en: {
    'app.name': 'SmartFind',
    'nav.search': 'Search Items',
    'nav.reportLost': 'Report Lost',
    'nav.reportFound': 'Report Found',
    'nav.howItWorks': 'How It Works',
    'auth.signIn': 'Sign In',
    'auth.signUp': 'Sign Up',
    'community.title': 'Community Help & Chat',
    'gamification.title': 'Gamification',
    'admin.title': 'Admin Analytics',
    'hero.title': 'Smart Lost & Found Management System',
    'hero.subtitle': 'Reunite with your lost items faster than ever. Our intelligent platform uses advanced matching algorithms to connect lost and found items with their rightful owners.',
    'hero.searchPlaceholder': 'Search for your lost item...',
    'hero.searchButton': 'Search',
    'hero.cta.reportLost': 'Report Lost Item',
    'hero.cta.browseFound': 'Browse Found Items',
    'how.title': 'How SmartFind Works',
    'how.subtitle': 'Our intelligent system makes finding lost items simple and efficient through smart matching technology.',
    'how.step1.title': '1. Report Your Item',
    'how.step1.desc': 'Describe your lost or found item with details, photos, and location information.',
    'how.step2.title': '2. AI Smart Matching',
    'how.step2.desc': 'Our AI analyzes descriptions, images, and locations to find potential matches automatically.',
    'how.step3.title': '3. Secure Reunion',
    'how.step3.desc': 'Connect safely with verified users through our secure messaging and verification system.',
    'stats.title': 'Trusted by Thousands',
    'stats.subtitle': 'Join our growing community of users who have successfully reunited with their belongings.',
    'stats.itemsReported': 'Items Reported',
    'stats.successfulMatches': 'Successful Matches',
    'stats.activeUsers': 'Active Users',
    'stats.successRate': 'Success Rate',
    'features.title': 'Powerful Features',
    'features.subtitle': 'Advanced technology meets user-friendly design to create the most effective lost and found platform.',
    'feature.photo.title': 'Photo Recognition',
    'feature.photo.desc': 'Advanced AI analyzes uploaded photos to identify and match similar items automatically.',
    'feature.location.title': 'Location Tracking',
    'feature.location.desc': 'GPS-based location matching helps connect items found near where they were lost.',
    'feature.alerts.title': 'Real-time Alerts',
    'feature.alerts.desc': 'Instant notifications when potential matches are found for your lost items.',
    'feature.verification.title': 'Secure Verification',
    'feature.verification.desc': 'Multi-step verification process ensures items are returned to their rightful owners.',
    'feature.community.title': 'Community Network',
    'feature.community.desc': 'Large network of helpful users actively looking out for lost items in their area.',
    'feature.categories.title': 'Smart Categories',
    'feature.categories.desc': 'Intelligent categorization system makes searching and browsing items quick and easy.',
    'cta.title': 'Ready to Find Your Lost Items?',
    'cta.subtitle': 'Join thousands of users who have successfully reunited with their belongings through SmartFind. Start your search today or help others by reporting found items.',
    'cta.reportLost': 'Report Lost Item',
    'cta.searchFound': 'Search Found Items',
    'footer.quick': 'Quick Actions',
    'footer.support': 'Support',
    'footer.company': 'Company',
    'footer.reportLost': 'Report Lost Item',
    'footer.reportFound': 'Report Found Item',
    'footer.searchItems': 'Search Items',
    'footer.myAccount': 'My Account',
    'footer.helpCenter': 'Help Center',
    'footer.safety': 'Safety Guidelines',
    'footer.contact': 'Contact Us',
    'footer.community': 'Community Forum',
    'footer.about': 'About Us',
    'footer.privacy': 'Privacy Policy',
    'footer.terms': 'Terms of Service',
    'footer.careers': 'Careers',
    'footer.tagline': 'The most advanced lost and found management system, powered by AI and community collaboration.',
    'dash.loading': 'Loading dashboard...',
    'dash.redirect': 'Redirecting to login...',
    'dash.appName': 'SmartFind',
    'dash.tagline': 'Lost & Found Management',
    'dash.signOut': 'Sign Out',
    'dash.canMessage': 'Can Message',
    'dash.welcome': 'Welcome back, {name}!',
    'dash.subtitle': 'What would you like to report today?',
    'dash.joined': 'Joined {date}',
    'dash.editProfile': 'Edit Profile',
    'dash.verifyIdentity': 'Verify Identity',
    'dash.itemsFound': 'Items Found',
    'dash.itemsLost': 'Items Lost',
    'dash.rewardsEarned': 'Rewards Earned',
    'dash.totalRewards': 'Total Rewards',
    'dash.helping': 'Helping others',
    'dash.seeking': 'Seeking help',
    'dash.fromFinds': 'From finds',
    'dash.allTime': 'All time',
    'dash.iFound': 'I Found Something',
    'dash.iLost': 'I Lost Something',
    'dash.reportFound': 'Report Found Item',
    'dash.reportLost': 'Report Lost Item',
    'dash.helpReunite': 'Help reunite found items\nwith their owners.',
    'dash.reportLostDesc': 'Report lost items\nand hope to get them back.',
    'dash.communityImpact': 'Community Impact',
    'dash.seeHow': 'See how our community is making a difference',
    'dash.thisWeek': 'This week',
    'dash.resolvedThisWeek': '{count} resolved this week',
    'dash.communityMembers': 'Community members',
    'dash.newThisWeek': '+{count} new this week',
    'dash.smartMatches': 'Smart Matches',
    'dash.smartMatchesDesc': 'Our AI automatically finds potential matches between lost and found items',
    'recentlyReturned.title': 'Recently Returned',
    'recentlyReturned.recovered': 'Recovered',
    'recentlyReturned.loading': 'Loading recently returned…',
    'recentlyReturned.error': 'Failed to load recently returned items',
    'recentlyReturned.empty': 'No items returned yet.',
    'recentlyReturned.returnedOn': 'Returned on',
    'recentlyReturned.foundAt': 'Found at',
    'recentlyReturned.verified': 'Verified',
    'communityHelp.title': 'Help Community',
    'communityHelp.shareContribution': 'Share your contribution',
    'communityHelp.itemsFound': 'Items Found',
    'communityHelp.itemsNotFound': 'Items Not Found',
    'communityHelp.notesOptional': 'Notes (optional)',
    'communityHelp.notesPlaceholder': 'Add any helpful details about your efforts...',
    'communityHelp.updateStatus': 'Update Status',
    'communityHelp.itemsFoundPlaceholder': 'e.g., 2',
    'communityHelp.itemsNotFoundPlaceholder': 'e.g., 1',
    'potentialMatches.title': 'Potential Matches',
    'potentialMatches.empty': 'No potential matches found yet. We\'ll notify you when we find items that might match yours!',
    'feedback.title': 'Feedback',
    'feedback.yourName': 'Your name (e.g., Emily)',
    'feedback.email': 'Email (optional)',
    'feedback.topic': 'Topic:',
    'feedback.rating': 'Rating:',
    'feedback.message': 'Tell us what you loved or what we could improve...',
    'feedback.send': 'Send Feedback',
    'quiz.title': 'Quick Quiz',
    'quiz.score': 'Score:',
    'quiz.question': 'What helps most to match lost and found items?',
    'quiz.submit': 'Submit',
    'quiz.answers.clearPhotos': 'Clear photos',
    'quiz.answers.randomGuess': 'Random guess',
    'quiz.answers.ignoringDetails': 'Ignoring details',
    'quiz.answers.noContactInfo': 'No contact info',
  },
  hi: {
    'app.name': 'स्मार्टफाइंड',
    'nav.search': 'खोजें',
    'nav.reportLost': 'खोया रिपोर्ट करें',
    'nav.reportFound': 'मिला रिपोर्ट करें',
    'nav.howItWorks': 'कैसे काम करता है',
    'auth.signIn': 'साइन इन',
    'auth.signUp': 'साइन अप',
    'community.title': 'समुदाय सहायता व चैट',
    'gamification.title': 'गेमिफिकेशन',
    'admin.title': 'एडमिन एनालिटिक्स',
    'hero.title': 'स्मार्ट लॉस्ट एंड फाउंड मैनेजमेंट सिस्टम',
    'hero.subtitle': 'अपने खोए हुए सामान को पहले से भी तेज़ी से पाएं। हमारा इंटेलिजेंट प्लेटफ़ॉर्म उन्नत मैचिंग एल्गोरिद्म का उपयोग कर सही मालिक तक सामान पहुँचाने में मदद करता है।',
    'hero.searchPlaceholder': 'अपने खोए सामान को खोजें...',
    'hero.searchButton': 'खोजें',
    'hero.cta.reportLost': 'खोया हुआ दर्ज करें',
    'hero.cta.browseFound': 'मिले हुए सामान देखें',
    'how.title': 'स्मार्टफाइंड कैसे काम करता है',
    'how.subtitle': 'हमारी बुद्धिमान प्रणाली स्मार्ट मैचिंग तकनीक के माध्यम से खोई वस्तुएँ ढूँढना सरल और प्रभावी बनाती है।',
    'how.step1.title': '1. अपना सामान रिपोर्ट करें',
    'how.step1.desc': 'विवरण, फोटो और लोकेशन के साथ अपना खोया/मिला सामान बताएं।',
    'how.step2.title': '2. एआई स्मार्ट मैचिंग',
    'how.step2.desc': 'हमारा एआई विवरण, फोटो और लोकेशन का विश्लेषण कर संभावित मैच ढूँढता है।',
    'how.step3.title': '3. सुरक्षित पुनर्मिलन',
    'how.step3.desc': 'सत्यापित उपयोगकर्ताओं से सुरक्षित रूप से जुड़ें और संदेश करें।',
    'stats.title': 'हज़ारों का भरोसा',
    'stats.subtitle': 'उन उपयोगकर्ताओं के बढ़ते समुदाय से जुड़ें जिन्होंने सफलतापूर्वक अपना सामान वापस पाया है।',
    'stats.itemsReported': 'रिपोर्ट की गई वस्तुएँ',
    'stats.successfulMatches': 'सफल मैच',
    'stats.activeUsers': 'सक्रिय उपयोगकर्ता',
    'stats.successRate': 'सफलता दर',
    'features.title': 'शक्तिशाली विशेषताएँ',
    'features.subtitle': 'उन्नत तकनीक और उपयोगकर्ता-हितैषी डिज़ाइन मिलकर सबसे प्रभावी लॉस्ट एंड फाउंड प्लेटफ़ॉर्म बनाते हैं।',
    'feature.photo.title': 'फोटो पहचान',
    'feature.photo.desc': 'उन्नत एआई अपलोड की गई फ़ोटो का विश्लेषण कर मिलती-जुलती वस्तुओं की पहचान और मिलान करता है।',
    'feature.location.title': 'लोकेशन ट्रैकिंग',
    'feature.location.desc': 'जीपीएस-आधारित लोकेशन मैचिंग खोई जगह के पास मिली वस्तुओं को जोड़ने में मदद करती है।',
    'feature.alerts.title': 'रीयल-टाइम अलर्ट',
    'feature.alerts.desc': 'संभावित मैच मिलने पर तुरंत सूचनाएँ।',
    'feature.verification.title': 'सुरक्षित सत्यापन',
    'feature.verification.desc': 'बहु-चरणीय सत्यापन सुनिश्चित करता है कि वस्तुएँ सही मालिक तक पहुँचें।',
    'feature.community.title': 'समुदाय नेटवर्क',
    'feature.community.desc': 'सहायक उपयोगकर्ताओं का बड़ा नेटवर्क जो अपने क्षेत्र में खोई चीज़ों का ध्यान रखता है।',
    'feature.categories.title': 'स्मार्ट श्रेणियाँ',
    'feature.categories.desc': 'बुद्धिमान वर्गीकरण प्रणाली से खोज और ब्राउज़ करना आसान होता है।',
    'cta.title': 'क्या आप अपने खोए सामान को खोजने के लिए तैयार हैं?',
    'cta.subtitle': 'हज़ारों उपयोगकर्ताओं के साथ जुड़ें जिन्होंने SmartFind के माध्यम से अपने सामान से सफलतापूर्वक पुनर्मिलन किया है। आज ही अपनी खोज शुरू करें या मिले हुए सामान की रिपोर्ट करके दूसरों की मदद करें।',
    'cta.reportLost': 'खोया हुआ दर्ज करें',
    'cta.searchFound': 'मिले हुए सामान खोजें',
    'footer.quick': 'त्वरित क्रियाएँ',
    'footer.support': 'सहायता',
    'footer.company': 'कंपनी',
    'footer.reportLost': 'खोया हुआ दर्ज करें',
    'footer.reportFound': 'मिला हुआ दर्ज करें',
    'footer.searchItems': 'वस्तुएँ खोजें',
    'footer.myAccount': 'मेरा खाता',
    'footer.helpCenter': 'सहायता केंद्र',
    'footer.safety': 'सुरक्षा दिशानिर्देश',
    'footer.contact': 'संपर्क करें',
    'footer.community': 'समुदाय मंच',
    'footer.about': 'हमारे बारे में',
    'footer.privacy': 'गोपनीयता नीति',
    'footer.terms': 'सेवा की शर्तें',
    'footer.careers': 'कैरियर',
    'footer.tagline': 'सबसे उन्नत लॉस्ट एंड फाउंड सिस्टम, एआई और समुदाय सहयोग द्वारा संचालित।',
    'dash.loading': 'डैशबोर्ड लोड हो रहा है...',
    'dash.redirect': 'लॉगिन पर रीडायरेक्ट कर रहे हैं...',
    'dash.appName': 'स्मार्टफाइंड',
    'dash.tagline': 'लॉस्ट एंड फाउंड मैनेजमेंट',
    'dash.signOut': 'साइन आउट',
    'dash.canMessage': 'संदेश भेज सकते हैं',
    'dash.welcome': 'वापसी पर स्वागत है, {name}!',
    'dash.subtitle': 'आज आप क्या रिपोर्ट करना चाहेंगे?',
    'dash.joined': 'शामिल हुए {date}',
    'dash.editProfile': 'प्रोफ़ाइल संपादित करें',
    'dash.verifyIdentity': 'पहचान सत्यापित करें',
    'dash.itemsFound': 'मिली हुई वस्तुएँ',
    'dash.itemsLost': 'खोई हुई वस्तुएँ',
    'dash.rewardsEarned': 'कमाए हुए इनाम',
    'dash.totalRewards': 'कुल इनाम',
    'dash.helping': 'दूसरों की मदद',
    'dash.seeking': 'मदद की तलाश',
    'dash.fromFinds': 'मिली वस्तुओं से',
    'dash.allTime': 'सर्वकाल',
    'dash.iFound': 'मुझे कुछ मिला है',
    'dash.iLost': 'मेरा कुछ खो गया है',
    'dash.reportFound': 'मिला हुआ दर्ज करें',
    'dash.reportLost': 'खोया हुआ दर्ज करें',
    'dash.helpReunite': 'मिली वस्तुओं को\nउनके मालिकों से मिलाने में मदद करें।',
    'dash.reportLostDesc': 'खोई हुई वस्तुओं की रिपोर्ट करें\nऔर उन्हें वापस पाने की आशा रखें।',
    'dash.communityImpact': 'समुदाय प्रभाव',
    'dash.seeHow': 'देखें हमारा समुदाय कैसे बदलाव ला रहा है',
    'dash.thisWeek': 'इस सप्ताह',
    'dash.resolvedThisWeek': 'इस सप्ताह {count} हल हुए',
    'dash.communityMembers': 'समुदाय के सदस्य',
    'dash.newThisWeek': 'इस सप्ताह +{count} नए',
    'dash.smartMatches': 'स्मार्ट मैच',
    'dash.smartMatchesDesc': 'हमारा एआई खोई और मिली वस्तुओं के बीच संभावित मैच खोजता है',
    'recentlyReturned.title': 'हाल ही में वापस आए',
    'recentlyReturned.recovered': 'बरामद',
    'recentlyReturned.loading': 'हाल ही में वापस आए सामान लोड हो रहे हैं…',
    'recentlyReturned.error': 'हाल ही में वापस आए सामान लोड करने में विफल',
    'recentlyReturned.empty': 'अभी तक कोई सामान वापस नहीं आया।',
    'recentlyReturned.returnedOn': 'वापस आया',
    'recentlyReturned.foundAt': 'मिला',
    'recentlyReturned.verified': 'सत्यापित',
    'communityHelp.title': 'समुदाय सहायता',
    'communityHelp.shareContribution': 'अपना योगदान साझा करें',
    'communityHelp.itemsFound': 'मिली हुई वस्तुएँ',
    'communityHelp.itemsNotFound': 'नहीं मिली वस्तुएँ',
    'communityHelp.notesOptional': 'नोट्स (वैकल्पिक)',
    'communityHelp.notesPlaceholder': 'अपने प्रयासों के बारे में कोई भी सहायक विवरण जोड़ें...',
    'communityHelp.updateStatus': 'स्थिति अपडेट करें',
    'communityHelp.itemsFoundPlaceholder': 'जैसे, 2',
    'communityHelp.itemsNotFoundPlaceholder': 'जैसे, 1',
    'potentialMatches.title': 'संभावित मैच',
    'potentialMatches.empty': 'अभी तक कोई संभावित मैच नहीं मिला। जब हमें आपके सामान से मिलती-जुलती वस्तुएँ मिलेंगी तो हम आपको सूचित करेंगे!',
    'feedback.title': 'फीडबैक',
    'feedback.yourName': 'आपका नाम (जैसे, एमिली)',
    'feedback.email': 'ईमेल (वैकल्पिक)',
    'feedback.topic': 'विषय:',
    'feedback.rating': 'रेटिंग:',
    'feedback.message': 'बताएं कि आपको क्या पसंद आया या हम क्या सुधार सकते हैं...',
    'feedback.send': 'फीडबैक भेजें',
    'quiz.title': 'त्वरित क्विज़',
    'quiz.score': 'स्कोर:',
    'quiz.question': 'खोई और मिली वस्तुओं को मैच करने में सबसे अधिक क्या मदद करता है?',
    'quiz.submit': 'जमा करें',
    'quiz.answers.clearPhotos': 'स्पष्ट फोटो',
    'quiz.answers.randomGuess': 'यादृच्छिक अनुमान',
    'quiz.answers.ignoringDetails': 'विवरणों को नज़रअंदाज़ करना',
    'quiz.answers.noContactInfo': 'कोई संपर्क जानकारी नहीं',
  },
  gu: {
    'app.name': 'સ્માર્ટફાઇન્ડ',
    'nav.search': 'શોધો',
    'nav.reportLost': 'ખોવાયેલું નોંધાવો',
    'nav.reportFound': 'મળેલું નોંધાવો',
    'nav.howItWorks': 'કેવી રીતે કામ કરે છે',
    'auth.signIn': 'સાઇન ઇન',
    'auth.signUp': 'સાઇન અપ',
    'community.title': 'કમ્યુનિટી મદદ અને ચેટ',
    'gamification.title': 'ગેમિફિકેશન',
    'admin.title': 'એડમિન એનાલિટિક્સ',
    'hero.title': 'સ્માર્ટ લોસ્ટ એન્ડ ફાઉન્ડ મેનેજમેન્ટ સિસ્ટમ',
    'hero.subtitle': 'તમારી ખોવાયેલી વસ્તુ ઝડપથી મેળવો. અમારું બુદ્ધિશાળી પ્લેટફોર્મ ઊન્નત મેચિંગ અલ્ગોરિધમથી માલિક સુધી વસ્તુ પહોંચાડે છે.',
    'hero.searchPlaceholder': 'તમારી ખોવાયેલી વસ્તુ શોધો...',
    'hero.searchButton': 'શોધો',
    'hero.cta.reportLost': 'ખોવાયેલું નોંધાવો',
    'hero.cta.browseFound': 'મળેલી વસ્તુઓ જુઓ',
    'how.title': 'સ્માર્ટફાઇન્ડ કેવી રીતે કામ કરે છે',
    'how.subtitle': 'અમારી બુદ્ધિશાળી સિસ્ટમ સ્માર્ટ મેચિંગ ટેકનોલોજી દ્વારા ખોવાયેલ વસ્તુઓ શોધવું સરળ અને અસરકારક બનાવે છે.',
    'how.step1.title': '1. તમારી વસ્તુ રિપોર્ટ કરો',
    'how.step1.desc': 'વિગતો, ફોટો અને સ્થાન સાથે ખોવાયેલી/મળેલી વસ્તુ નોંધાવો.',
    'how.step2.title': '2. એઆઈ સ્માર્ટ મેચિંગ',
    'how.step2.desc': 'અમારો એઆઈ વર્ણન, ફોટા અને સ્થાન પરથી મેચ શોધે છે.',
    'how.step3.title': '3. સુરક્ષિત પુનર્મિલન',
    'how.step3.desc': 'વેરિફાઇડ યુઝર્સ સાથે સુરક્ષિત રીતે જોડાઓ અને મેસેજ કરો.',
    'stats.title': 'હજારોનો વિશ્વાસ',
    'stats.subtitle': 'તેવા યુઝર્સના વધતા સમુદાયમાં જોડાઓ જેમણે સફળતાપૂર્વક પોતાની વસ્તુઓ મેળવી છે.',
    'stats.itemsReported': 'રિપોર્ટ થયેલી વસ્તુઓ',
    'stats.successfulMatches': 'સફળ મેચ',
    'stats.activeUsers': 'સક્રિય યુઝર્સ',
    'stats.successRate': 'સફળતા દર',
    'features.title': 'શક્તિશાળી ફીચર્સ',
    'features.subtitle': 'અદ્યતન ટેકનોલોજી અને વપરાશકર્તા-મૈત્રીપૂર્ણ ડિઝાઈન મળીને સૌથી અસરકારક લોસ્ટ એન્ડ ફાઉન્ડ પ્લેટફોર્મ બનાવે છે.',
    'feature.photo.title': 'ફોટો ઓળખ',
    'feature.photo.desc': 'અદ્યતન એઆઈ અપલોડ કરેલી ફોટોઝનું વિશ્લેષણ કરીને સરખી વસ્તુઓ શોધે છે.',
    'feature.location.title': 'લોકેશન ટ્રેકિંગ',
    'feature.location.desc': 'જીપીએસ આધારિત મેચિંગ ખોવાયેલી જગ્યાની આસપાસ મળેલી વસ્તુઓ જોડવામાં મદદ કરે છે.',
    'feature.alerts.title': 'રીયલ-ટાઇમ એલર્ટ્સ',
    'feature.alerts.desc': 'સંભાવિત મેચ મળતા જ તરત સૂચનાઓ.',
    'feature.verification.title': 'સિક્યોર વેરીફિકેશન',
    'feature.verification.desc': 'બહુ-ચરણ વેરીફિકેશનથી વસ્તુઓ સાચા માલિક સુધી પહોંચે તે ખાતરી થાય છે.',
    'feature.community.title': 'કમ્યુનિટી નેટવર્ક',
    'feature.community.desc': 'મદદરૂપ યુઝર્સનું મોટું નેટવર્ક જે પોતાના વિસ્તારમાં ખોવાયેલી વસ્તુઓ માટે નજર રાખે છે.',
    'feature.categories.title': 'સ્માર્ટ કેટેગરીઝ',
    'feature.categories.desc': 'બુદ્ધિશાળી વર્ગીકરણથી શોધવું અને બ્રાઉઝ કરવું ઝડપી બને છે.',
    'cta.title': 'તમે ખોવાયેલી વસ્તુ શોધવા તૈયાર છો?',
    'cta.subtitle': 'હજારો યુઝર્સ સાથે જોડાઓ જેમણે SmartFind દ્વારા પોતાની વસ્તુઓ સફળતાપૂર્વક મેળવી છે. આજે જ શોધ શરૂ કરો અથવા મળેલી વસ્તુ રિપોર્ટ કરીને અન્યની મદદ કરો.',
    'cta.reportLost': 'ખોવાયેલું નોંધાવો',
    'cta.searchFound': 'મળેલી વસ્તુઓ શોધો',
    'footer.quick': 'ઝડપી ક્રિયાઓ',
    'footer.support': 'સપોર્ટ',
    'footer.company': 'કંપની',
    'footer.reportLost': 'ખોવાયેલું નોંધાવો',
    'footer.reportFound': 'મળેલું નોંધાવો',
    'footer.searchItems': 'વસ્તુઓ શોધો',
    'footer.myAccount': 'મારું એકાઉન્ટ',
    'footer.helpCenter': 'મદદ કેન્દ્ર',
    'footer.safety': 'સેફ્ટી માર્ગદર્શિકા',
    'footer.contact': 'સંપર્ક કરો',
    'footer.community': 'સમુદાય ફોરમ',
    'footer.about': 'અમારા વિશે',
    'footer.privacy': 'પ્રાઇવસી પોલિસી',
    'footer.terms': 'સેવાની શરતો',
    'footer.careers': 'કેરિયર્સ',
    'footer.tagline': 'સૌથી અદ્યતન લોસ્ટ એન્ડ ફાઉન્ડ સિસ્ટમ, એઆઈ અને સમુદાય સહકારથી સંચાલિત.',
    'dash.loading': 'ડેશબોર્ડ લોડ થઈ રહ્યું છે...',
    'dash.redirect': 'લોગિન પર રીડાયરેક્ટ કરી રહ્યા છીએ...',
    'dash.appName': 'સ્માર્ટફાઇન્ડ',
    'dash.tagline': 'લોસ્ટ એન્ડ ફાઉન્ડ મેનેજમેન્ટ',
    'dash.signOut': 'સાઇન આઉટ',
    'dash.canMessage': 'મેસેજ કરી શકો છો',
    'dash.welcome': 'પાછા આવવા બદલ સ્વાગત, {name}!',
    'dash.subtitle': 'આજે તમે શું રિપોર્ટ કરવા માંગો છો?',
    'dash.joined': 'જોડાયા {date}',
    'dash.editProfile': 'પ્રોફાઇલ સંપાદિત કરો',
    'dash.verifyIdentity': 'ઓળખ ચકાસો',
    'dash.itemsFound': 'મળેલી વસ્તુઓ',
    'dash.itemsLost': 'ખોવાયેલી વસ્તુઓ',
    'dash.rewardsEarned': 'મેળવેલા ઇનામ',
    'dash.totalRewards': 'કુલ ઇનામ',
    'dash.helping': 'અન્યોની મદદ',
    'dash.seeking': 'મદદની શોધ',
    'dash.fromFinds': 'મળેલી વસ્તુઓમાંથી',
    'dash.allTime': 'સર્વકાલ',
    'dash.iFound': 'મને કંઈક મળ્યું છે',
    'dash.iLost': 'મારી વસ્તુ ખોવાઈ છે',
    'dash.reportFound': 'મળેલું નોંધાવો',
    'dash.reportLost': 'ખોવાયેલું નોંધાવો',
    'dash.helpReunite': 'મળેલી વસ્તુઓને\nતેના માલિક સુધી પહોંચાડવામાં મદદ કરો.',
    'dash.reportLostDesc': 'ખોવાયેલી વસ્તુની નોંધ કરો\nઅને પાછું મળવાની આશા રાખો.',
    'dash.communityImpact': 'કમ્યુનિટી ઇમ્પેક્ટ',
    'dash.seeHow': 'અમારો સમુદાય કેવી રીતે ફેરફાર લાવે છે તે જુઓ',
    'dash.thisWeek': 'આ અઠવાડિયે',
    'dash.resolvedThisWeek': 'આ અઠવાડિયે {count} ઉકેલાયા',
    'dash.communityMembers': 'સમુદાય સભ્યો',
    'dash.newThisWeek': 'આ અઠવાડિયે +{count} નવા',
    'dash.smartMatches': 'સ્માર્ટ મેચેસ',
    'dash.smartMatchesDesc': 'અમારો એઆઈ ખોવાયેલી અને મળેલી વસ્તુઓ વચ્ચે સંભવિત મેચ શોધે છે',
    'recentlyReturned.title': 'તાજેતરમાં પરત આવ્યા',
    'recentlyReturned.recovered': 'પુનઃપ્રાપ્ત',
    'recentlyReturned.loading': 'તાજેતરમાં પરત આવેલી વસ્તુઓ લોડ થઈ રહી છે…',
    'recentlyReturned.error': 'તાજેતરમાં પરત આવેલી વસ્તુઓ લોડ કરવામાં નિષ્ફળ',
    'recentlyReturned.empty': 'હજુ સુધી કોઈ વસ્તુ પરત નથી આવી.',
    'recentlyReturned.returnedOn': 'પરત આવ્યા',
    'recentlyReturned.foundAt': 'મળ્યા',
    'recentlyReturned.verified': 'ચકાસાયેલ',
    'communityHelp.title': 'સમુદાય મદદ',
    'communityHelp.shareContribution': 'તમારો યોગદાન શેર કરો',
    'communityHelp.itemsFound': 'મળેલી વસ્તુઓ',
    'communityHelp.itemsNotFound': 'ન મળેલી વસ્તુઓ',
    'communityHelp.notesOptional': 'નોંધો (વૈકલ્પિક)',
    'communityHelp.notesPlaceholder': 'તમારા પ્રયાસો વિશે કોઈપણ મદદરૂપ વિગતો ઉમેરો...',
    'communityHelp.updateStatus': 'સ્થિતિ અપડેટ કરો',
    'communityHelp.itemsFoundPlaceholder': 'જેમ કે, 2',
    'communityHelp.itemsNotFoundPlaceholder': 'જેમ કે, 1',
    'potentialMatches.title': 'સંભવિત મેચ',
    'potentialMatches.empty': 'હજુ સુધી કોઈ સંભવિત મેચ મળ્યો નથી. જ્યારે અમને તમારી વસ્તુઓ સાથે મળતી વસ્તુઓ મળશે ત્યારે અમે તમને સૂચિત કરીશું!',
    'feedback.title': 'પ્રતિભાવ',
    'feedback.yourName': 'તમારું નામ (જેમ કે, એમિલી)',
    'feedback.email': 'ઇમેઇલ (વૈકલ્પિક)',
    'feedback.topic': 'વિષય:',
    'feedback.rating': 'રેટિંગ:',
    'feedback.message': 'અમને કહો કે તમને શું ગમ્યું અથવા અમે શું સુધારી શકીએ...',
    'feedback.send': 'પ્રતિભાવ મોકલો',
    'quiz.title': 'ઝડપી ક્વિઝ',
    'quiz.score': 'સ્કોર:',
    'quiz.question': 'ખોવાયેલી અને મળેલી વસ્તુઓને મેચ કરવામાં સૌથી વધુ શું મદદ કરે છે?',
    'quiz.submit': 'સબમિટ કરો',
    'quiz.answers.clearPhotos': 'સ્પષ્ટ ફોટા',
    'quiz.answers.randomGuess': 'રેન્ડમ અનુમાન',
    'quiz.answers.ignoringDetails': 'વિગતોને અવગણવી',
    'quiz.answers.noContactInfo': 'કોઈ સંપર્ક માહિતી નથી',
  },
}

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguageState] = useState<LanguageCode>('en')

  useEffect(() => {
    const saved = (typeof window !== 'undefined' && localStorage.getItem(STORAGE_KEY)) as LanguageCode | null
    if (saved === 'en' || saved === 'hi' || saved === 'gu') {
      setLanguageState(saved)
    }
  }, [])

  const setLanguage = useCallback((lang: LanguageCode) => {
    setLanguageState(lang)
    if (typeof window !== 'undefined') {
      localStorage.setItem(STORAGE_KEY, lang)
      // Optional: update html lang attribute for accessibility
      try {
        document.documentElement.lang = lang === 'en' ? 'en' : lang
      } catch {}
    }
  }, [])

  const t = useCallback((key: string) => {
    const dict = messages[language]
    return dict[key] ?? messages.en[key] ?? key
  }, [language])

  const value = useMemo(() => ({ language, setLanguage, t }), [language, setLanguage, t])

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>
}

export function useI18n() {
  const ctx = useContext(I18nContext)
  if (!ctx) throw new Error('useI18n must be used within I18nProvider')
  return ctx
}

export type { LanguageCode }


